{{ define "header" }}
  {{- partial "_shared/navbar.html" . -}}
{{ end }}
{{ define
  "main"
}}
  <div class="main-content">
    <!-- Begin Article
        ================================================== -->
    <div class="container">
      <div class="row">
        <div class="col-md-1 pl-0 d-sm-none d-md-block">
          {{- partial "single-partials/share.html" . -}}
        </div>
        <div class="col-md-11">
          <div class="mainheading">
            <h1 class="posttitle ">AI based transcription tool</h1>
            <div class="article-post">
              <div id="form-container" class="row">
                <div class="col-md-6">
                  <h2>Select the file you want to transcribe</h2>
                  <form>
                    <div class="mb-3">
                      <label for="file-input" class="form-label"
                        >Which video/audio file should be transcribed?</label
                      >
                      <input
                        class="form-control"
                        type="file"
                        id="file-input"
                        accept=".mp3,.wav,.mp4,.mov,.avi,.flv,.wmv,.mpeg,.mpg,.webm"
                      />
                      <div class="form-text">
                        We support .mp3, .wav, .mp4, .mov, .avi, .flv, .wmv,
                        .mpeg, .mpg and .m4v.
                      </div>
                    </div>
                    <div class="mb-3">
                      <label for="model-name" class="form-label"
                        >Which model should be used?</label
                      >
                      <select
                        class="form-select"
                        aria-label="Default select example"
                        id="model-name"
                      >
                        <option selected>Open this select menu</option>
                        <option value="1">One</option>
                        <option value="2">Two</option>
                        <option value="3">Three</option>
                      </select>
                      <div class="form-text">
                        Large will be more accurate, but slower.
                      </div>
                    </div>
                    <button id="form-submit-btn" class="btn btn-primary">
                      Submit
                    </button>
                  </form>
                </div>
              </div>
              <div id="transcription-container" class="d-none">
                <div class="row">
                  <div class="col-md-12 col-lg-6">
                    <div class="sticky-top sticky-top-offset">
                      <h2>Input</h2>
                      <div class="embed-responsive embed-responsive-4by3">
                        <video
                          controls
                          id="video-player"
                          width="100%"
                          src=""
                          style="max-height: 50vh;"
                        />
                      </div>
                      <button
                        id="download-results-as-csv-btn"
                        class="btn btn-primary"
                      >
                        Download
                      </button>
                      <button
                        id="close-transcription-container-btn"
                        class="btn btn-danger"
                      >
                        Close
                      </button>
                      <div id="transcription-progress-bar-container">
                        <div class="form-text">Transcription progress:</div>
                        <div class="progress">
                          <div
                            id="transcription-progress-bar"
                            class="progress-bar"
                            role="progressbar"
                            style="width: 0%"
                            aria-valuenow="25"
                            aria-valuemin="0"
                            aria-valuemax="100"
                          >
                            0%
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="col-md-12 col-lg-6">
                    <h2>Transcription</h2>
                    <div id="results-container"></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- End Article
    ================================================== -->

  {{ $worker := resources.Get "/js/whisper.worker.js" | js.Build }}
  {{ $indexjs := resources.Get "/js/whisper-based-transcription.js" | js.Build (dict "minify" false "params" (dict "whisperWorkerPath" $worker.RelPermalink) ) | fingerprint }}
  <script
    async
    src="{{ $indexjs.RelPermalink | absURL }}"
    integrity="{{ $indexjs.Data.Integrity }}"
  ></script>
{{ end }}
{{ define "footer" }}
  {{- partial "_shared/footer.html" . -}}
{{ end }}
